;/*FB_PKG_DELIM*/

__d("useViewabilityImpression",["useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.onIntersection;return c("useVisibilityObserver")({onIntersection:a,options:{thresholdOverride:"MODERATE"}})}g["default"]=a}),98);
__d("usePolarisStoryPreviewImpressionLogger",["PolarisLoggerUtils","PolarisStoriesLoggingUtils","ReelSessionSummaryFalcoEvent","usePolarisSponsoredStoryLoggingParams","useViewabilityImpression"],(function(a,b,c,d,e,f,g){"use strict";var h="web_story_preview",i={previewedStoryIds:new Set([]),prevViewerSession:""};function a(a,b){b=c("usePolarisSponsoredStoryLoggingParams")(a,b);var e=b.followStatus,f=b.isReelSponsored,g=b.loggingData,j=b.ownerId,k=b.reelId,l=b.storyAdInjectionData,m=b.traySession,n=b.viewerSession,o=((b=l==null?void 0:l.seenStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.injectedStoryAdIds)!=null?b:[]).length+((b=l==null?void 0:l.availableStoryAdIds)!=null?b:[]).length;return c("useViewabilityImpression")({onIntersection:function(b){b=b.isElementVisible;n!==i.prevViewerSession&&i.previewedStoryIds.clear();if(k==null||i.previewedStoryIds.has(k)||!b)return;c("ReelSessionSummaryFalcoEvent").log(function(){var b;return{a_pk:(b=j)!=null?b:"",action:h,ad_delivered_count:String(o),ad_photos_consumed:"0",ad_videos_consumed:"0",delivery_class:f?"ad":"organic",follow_status:(b=e)!=null?b:"unknown",is_ad:f,live_videos_consumed:"0",module_name:g.containermodule||"",pause_duration:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelPauseTime)),photos_consumed:String(g.photoCounter),reel_id:k,reel_size:(a==null?void 0:a.itemIds)?String(a==null?void 0:a.itemIds.length):"0",reel_type:d("PolarisStoriesLoggingUtils").getTypeForLogging(a==null?void 0:a.type),replay_videos_consumed:"0",session_reel_counter:String(g.reelCounter),time_elapsed:Number(d("PolarisLoggerUtils").msToLogSeconds(g.reelTotalTime-g.reelPauseTime)),tray_position:g.containermodule==="reel_feed_timeline"?String(g.reelPositionInTray):"-1",tray_session_id:m,videos_consumed:String(g.videoCounter),viewer_session_ad_media_consumed:"0",viewer_session_ad_reels_consumed:"0",viewer_session_id:n,viewer_session_media_consumed:String(g.mediaCounter),viewer_session_reels_consumed:String(g.reelCounter)}});i.previewedStoryIds.add(k);i.prevViewerSession=n}})}g["default"]=a}),98);
__d("PolarisDesktopSponsoredStoriesFooter.react",["PolarisEventLoop","PolarisSponsoredStoriesFooterCTA.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerToast.react","polarisAdsSelectors","react","usePolarisStoriesFooter"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=a.post;a=a.reel;var e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a),f=e.canReshare,g=e.handleShareStory,h=e.setToastMessage,l=e.storyOwnerId,m=e.toastMessage,n=k(!1),o=n[0],p=n[1];n=f?i.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:g,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;f=d("polarisAdsSelectors").useStoryAdInfo(b.id,function(a){return a});g=f==null?void 0:(g=f.ctaItems)==null?void 0:(a=g.get(b.id))==null?void 0:a.ctaLinkText;a=f==null?void 0:(a=f.ctaItems)==null?void 0:(a=a.get(b.id))==null?void 0:a.ctaLinkUrl;a=e.ctaUrl==null||e.ctaUrl===""?a:e.ctaUrl;j(function(){p(!1);var a=c("PolarisEventLoop").setTimeout(function(){p(!0)},d("usePolarisStoriesFooter").DELAY_BEFORE_CTA_ACTIVE);return function(){return c("PolarisEventLoop").clearTimeout(a)}},[f]);e=g!=null&&a!=null?i.jsx(c("PolarisSponsoredStoriesFooterCTA.react"),{ctaUrl:a,isActive:o,text:g}):null;return b.isSponsored!==!0||l==null?null:i.jsx("div",{className:"x1qjc9v5 x155pf6g x1ey2m1c x9f619 x78zum5 xdt5ytf x2lah0s x1pg5gke x18dl8mb x13a6bvl xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x1pi30zi x1l90r2v x1swvt13 x47corl x10l6tqk x17qophe x11njtxf xh8yej3 x14g40p9",children:i.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x2lah0s xl56j7k xr1yuqi x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",children:[a!=null&&e,i.jsx("div",{className:"xds687c x10l6tqk",children:n}),i.jsx(c("PolarisStoryViewerToast.react"),{message:m,onClose:function(){return h("")}})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoryVideoLogger",["PolarisVideoLogger","polarisVideoEventLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){var f=b.id,g=b.owner,h=b.postedAt;b=b.trackingToken;a=a.current;c=c.current;c.loggingSequenceNumber++;return babelHelpers["extends"]({analyticsContext:"StoriesPage",currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(a==null?void 0:a.duration),id:f||"",ownerId:g==null?void 0:g.id,postedAt:h,sequenceNumber:c.loggingSequenceNumber,streamingFormat:"progressive",trackingToken:b,videoWidth:a==null?void 0:a.videoWidth},d("polarisVideoEventLogger").getAdLoggingParams(e))}g.getStoryVideoLoggingParams=a}),98);
__d("usePolarisDesktopStoriesGalleryIds",["PolarisReactRedux","polarisStorySelectors"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=Math.abs(b-4);b=Math.abs(a.length-b-5);c=Array(c).fill(null);b=Array(b).fill(null);return[].concat(c,a,b)}function a(){var a=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getReelGalleryReelIds),b=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId});if(b==null)return[];b=a.indexOf(b);return h(a,b)}g.padReelIdsForLayout=h;g.useDesktopStoriesGalleryIds=a}),98);
__d("usePolarisDesktopStoriesGallerySize",["PolarisDesktopStoriesGalleryConstants","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useWindowSize")(),b=a.innerHeight,e=a.innerWidth;a=(a=d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.find(function(a){return b/e>=a.height/a.width}))!=null?a:d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS[d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.length-1];var f=Math.min(e,b*(a.width/a.height)),g=Math.min(b,e*(a.height/a.width));return{aspectRatio:a,maxGalleryHeight:g,maxGalleryWidth:f}}g["default"]=a}),98);
__d("usePolarisDesktopStoriesGallerySprings",["Locale","PolarisDesktopStoriesGalleryConstants","react","react-spring-wwwig","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function j(a){return(a=d("PolarisDesktopStoriesGalleryConstants").GALLERY[a])!=null?a:d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview}function k(a,b,c){b=a+b;return c?j(b):j(a)}function l(a,b,c,e,f,g){var h=a;e?h=a+c:h=a;c=d("PolarisDesktopStoriesGalleryConstants").GALLERY.slice(0,Math.max(0,h)).reduce(function(a,c){return a+b.viewer.width*c+b.gutter.width},b.gutter.width);h=b.viewer.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;var i=2*(h+b.gutter.width);if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var j=.5*h;i=i+j+b.gutter.width}if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){j=1.5*h;i=i+j+b.gutter.width*2}h=0;f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_2_CROP&&(!e&&a===1&&(h=-2),!e&&a===d("PolarisDesktopStoriesGalleryConstants").GALLERY.length-2&&(h=2));j=c-i+h;g&&(j*=-1);return j}function m(a,b){if(a.length!==b.length)return null;var c=a.length-1;for(var d=a.length-1;d>=0;d--)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);if(d!==-1)return c-d;c=0;for(d=0;d<a.length;d++)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);return d!==-1?c-d:null}function n(a,b,d,e,f,g){e===void 0&&(e=2);f===void 0&&(f=!1);var h=c("Locale").isRTL();return function(c){c===void 0&&(c=0);var i=k(c,d,!0),j=k(c,d,!1),m=l(c,b,d,!0,e,h),n=l(c,b,d,!1,e,h),o=c===4;return{from:{scale:i,x:m},immediate:f,onRest:g!=null&&o?function(){return g(a[c])}:function(){},to:{scale:j,x:n}}}}function o(a,b){a=a*b;return{height:a,width:a*d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_ASPECT_RATIO_W_H}}function a(a,b,e,f,g){var h=o(e,d("PolarisDesktopStoriesGalleryConstants").STORY_VIEWER_LARGE_HEIGHT_PCT),j={gutter:{height:0,width:0},viewer:h};e=d("PolarisDesktopStoriesGalleryConstants").VISIBLE_GALLERY.reduce(function(a,b){return a+h.width*b},0);var k=(f-e)/6;if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var l=h.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;e-=l;k=(f-e)/4}if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){l=h.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview*3;e-=l;k=(f-e)/2}j.gutter.width=k;l=d("react-spring-wwwig").useSprings(a.length,n(a,j,0,b.previewCount,!0,g));f=l[0];var p=l[1],q=c("usePrevious")(a),r=c("usePrevious")(j.viewer.height),s=c("usePrevious")(j.gutter.width);i(function(){var c=q!=null&&q.join()!==a.join(),d=r!=null&&r!==j.viewer.height||s!=null&&s!==j.gutter.width;if(c||d){c=m((c=q)!=null?c:[],a);d=c===null||d;c=(c=c)!=null?c:0;p(n(a,j,c,b.previewCount,d,g))}},[a,j,q,p,r,s,b.previewCount,g]);return[h.height,h.width,f]}g.calcX=l;g.calcIndexAdjustment=m;g.useDesktopStoriesGallerySprings=a}),98);
__d("PolarisDesktopStoriesFooterCTA.react",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=a.onOpenCta;return k.jsx("div",{className:"_adip",onClick:a,role:"button",tabIndex:"0",children:k.jsx("div",{className:"_adiq",children:i._("__JHASH__6pmWQbO1xBr__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesFooter.react",["cx","IGDSBox.react","PolarisDesktopStoriesFooterCTA.react","PolarisDirectStrings","PolarisLikeButton.react","PolarisReactRedux","PolarisStoryReplyComposer.react","PolarisStoryShareButtonWithDialog.react","PolarisStoryViewerButton.react","PolarisStoryViewerToast.react","polarisPostSelectors","qex","react","usePolarisStoriesFooter","usePolarisStoryLikes"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.post;a=a.reel;var e=d("usePolarisStoriesFooter").usePolarisStoriesFooter(b,a),f=e.canReply,g=e.canReshare,h=e.ctaUrl,i=e.handleShareStory,k=e.isViewingOwnStory,l=e.mediaId,m=e.onOpenCta,n=e.setToastMessage,o=e.storyOwnerId;e=e.toastMessage;i=g?j.jsx(c("PolarisStoryShareButtonWithDialog.react"),{currentPost:b,handleShareStory:i,reelId:a.id,referrer:"DesktopStoriesFooter"}):null;var p=l.split("_"),q=p[0];p[1];p=d("PolarisReactRedux").useSelector(function(a){return d("polarisPostSelectors").doesViewerLikePost(a,q)});var r=c("usePolarisStoryLikes")(q);if(o==null)return null;l=j.jsx(c("PolarisStoryReplyComposer.react"),{handleStoryLike:r,likedByViewer:p,mediaId:l,onSendMessage:function(){n(d("PolarisDirectStrings").SENT_TOAST_TEXT)},post:b,reelId:a.id,shareButton:i,storyOwnerId:o,supportsReelReactions:!k});return b.isSponsored===!0?null:j.jsxs("div",{className:"_ac11",children:[j.jsxs("div",{className:"_ac12",children:[f?l:j.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"end",position:"relative",children:[!k&&j.jsx("div",{className:"_ac13",children:j.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:p,onChange:r})}),g&&c("qex")._("953")===!0&&i]}),j.jsx(c("PolarisStoryViewerToast.react"),{message:e,onClose:function(){return n("")}})]}),j.jsx(c("PolarisStoryViewerButton.react"),{}),h!=null&&j.jsx(c("PolarisDesktopStoriesFooterCTA.react"),{onOpenCta:m})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesHeaderV2.react",["cx","IGDSBox.react","PolarisClickEventLoggerProvider.react","PolarisCloseFriendsLabel.react","PolarisExclusiveStoryLabel.react","PolarisProfileClickEventLoggerProvider.react","PolarisSharedStoryHeaderInfo.react","PolarisSponsoredStoryContext.react","PolarisStoriesHeaderOwnerV2.react","PolarisStoriesProvider.react","PolarisStoryOptionsButton.react","PolarisStoryProgressBars.react","PolarisStoryVideoContext.react","PolarisStoryVideoLogger","emptyFunction","nullthrows","polarisAdsSelectors","polarisStorySelectors","polarisVideoEventLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect;function a(a){var b=a.currentReelItemIndex,e=a.itemCount,f=a.onModalOpen,g=a.playPercentage,h=a.post,i=a.postAuthor,m=a.reel,n=a.reelOwner;a=a.trayEntrypoint;var o=d("PolarisStoriesProvider.react").useStoriesContext(),p=o.isMuted,q=o.isPaused,r=o.needsTapToStart,s=o.postIDThatShouldShowSensitiveContentOverlay,t=o.shouldMuteAudio,u=o.shouldMuteAudioReason,v=o.updateStoriesContext;o=k(d("PolarisSponsoredStoryContext.react").PolarisSponsoredStoryContext);var w=o.onProfileClick;o=o.shouldLogProfileClicks;var x=h.audience==="MediaAudience.BESTIES",y=h.audience==="MediaAudience.FAN_CLUB";s=s==null&&!r;var z=d("polarisAdsSelectors").useStoryAdInfo(h.id,function(a){return a});r=d("PolarisStoryVideoContext.react").useStoryVideoContext();var A=r.loggerValuesRef,B=r.ref;l(function(){h.hasAudio===!0&&!p&&d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0}))},[h]);r=function(){h.hasAudio===!0&&B.current!=null&&(p?d("polarisVideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0})):d("polarisVideoEventLogger").logAudioDisabled(babelHelpers["extends"]({},d("PolarisStoryVideoLogger").getStoryVideoLoggingParams(B,h,A,z),{loopsCount:0}))),v({isMuted:!p})};return j.jsx(c("PolarisClickEventLoggerProvider.react"),{shouldLog:o===!0,children:j.jsx(c("PolarisProfileClickEventLoggerProvider.react"),{onProfileClick:o===!0?w:c("emptyFunction"),children:j.jsxs("header",{className:"_ac0k",children:[j.jsx(c("PolarisStoryProgressBars.react"),{count:e,currentIndex:b,percentage:g}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[j.jsx("div",{className:"_ac0l",children:j.jsx(c("PolarisStoriesHeaderOwnerV2.react"),{appAttribution:h.storyAppAttribution,audience:h.audience,isAffiliate:h.isAffiliate===!0,isPaidPartnership:h.isPaidPartnership===!0,postAuthor:i,postedAt:c("nullthrows")(h.postedAt),postId:h.id,reel:m,reelOwner:n,resharedStoryMediaAuthor:h.resharedStoryMediaAuthor,sponsors:h.sponsors,title:(o=d("polarisStorySelectors").getReelTitle(m,n))!=null?o:"",trayEntrypoint:a})}),j.jsx("div",{className:"_ac0m",children:s&&j.jsxs(j.Fragment,{children:[x&&j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[j.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){v({isCloseFriendsDialogActive:!0})},textSize:"small"}),j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),y&&j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[j.jsx(c("PolarisExclusiveStoryLabel.react"),{onClick:function(){v({isExclusiveStoryDialogActive:!0})},textSize:"small"}),j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative"})]}),j.jsx(c("PolarisSharedStoryHeaderInfo.react"),{hidePlayControl:!1,isMuted:p,isPaused:q,post:h,shouldMuteAudio:t,shouldMuteAudioReason:u,toggleStoryMuteState:r,toggleStoryPauseState:function(){v({isPaused:!q})}}),j.jsx(c("PolarisStoryOptionsButton.react"),{"data-testid":void 0,onClick:f,post:h,reel:m})]})})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelStandaloneViewer.react",["IGDSBox.react","PolarisMonitorErrors","PolarisReactRedux","PolarisSizing","PolarisStoryViewer.react","err","polarisPostSelectors","polarisStorySelectors","react","usePolarisSelector","usePolarisStorySetup","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelId}),b=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentPostId),e=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentReelItemIndex}),f=c("useWindowSize")();f=f.innerHeight;f=d("PolarisSizing").getViewerDimensionsFromHeightV2(f);var g=f.height;f=f.width;var h=c("usePolarisSelector")(function(b){return d("polarisStorySelectors").getReel(b,(b=a)!=null?b:"")}),j=c("usePolarisSelector")(function(a){return d("polarisPostSelectors").getPostById(a,(a=b)!=null?a:"")});if(h==null){var k=c("err")("Unexpected null story reel in desktop standalone story viewer");d("PolarisMonitorErrors").logError(k);throw c("err")}c("usePolarisStorySetup")(h,j);return a==null||b==null?null:i.jsx(c("IGDSBox.react"),{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",position:"relative",children:i.jsx("div",{style:{height:g,width:f},children:i.jsx(c("PolarisStoryViewer.react"),{postId:b,reelId:a,reelItemIndex:e,viewerHeight:g,viewerWidth:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelPreviewOverlays.react",["cx","PolarisSensitivityOverlayIcon.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"_ac07"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j.jsx("div",{className:"_ac08","data-testid":void 0})}b.displayName=b.name+" [from "+f.id+"]";function e(){return j.jsx("div",{className:"_ac09","data-testid":void 0,children:j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null})})}e.displayName=e.name+" [from "+f.id+"]";g.DesktopStoriesPreviewObscurityOverlay=a;g.DesktopStoriesPreviewSeenOverlay=b;g.DesktopStoriesPreviewSensitivityOverlay=e}),98);
__d("PolarisDesktopStoriesV2ReelPreview.react",["cx","fbt","ix","IGCoreImage","IGDSBox.react","IGDSText.react","PolarisAdsGatingHelpers","PolarisDesktopStoriesV2ReelPreviewOverlays.react","PolarisGroupProfileUtils","PolarisIGCorePressable","PolarisReactRedux","PolarisResponsiveImage.react","PolarisSponsoredLabel.react","PolarisTimestamp.react","PolarisUserAvatarWithStories.react","nullthrows","polarisAdsSelectors","polarisGetPostFromGraphMediaInterface","polarisPostSelectors","polarisStorySelectors","polarisUserSelectors","react","useMergeRefs","usePolarisSelector","usePolarisSponsoredElTracker","usePolarisStoryPreviewImpressionLogger"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k,l=k||d("react"),m={whiteText:{color:"xh93fs4",$$css:!0}},n="reel_feed_timeline";function o(a){var b=a.isSponsored,e=a.pictureUrl,f=a.post,g=a.postedAt,h=a.reelIsSeen,i=a.title;a=a.user;f=d("polarisAdsSelectors").useStoryAdInfo(f.id,function(a){return a==null?void 0:a.label});b=b&&f!=null;b=b?l.jsx(c("PolarisSponsoredLabel.react"),{"data-testid":void 0,label:c("nullthrows")(f),xstyle:m.whiteText}):l.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:g});return l.jsxs(c("IGDSBox.react"),{alignItems:"center",bottom:!0,height:"100%",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[h?null:l.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewObscurityOverlay,{}),l.jsxs("div",{className:"_ac0h _advu",children:[l.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!1,isLink:!1,profilePictureUrl:e,showLivePulse:!1,showLiveRing:!1,size:56,storyEntrypoint:n,username:a.username}),l.jsxs("div",{className:"_afgd",children:[l.jsx(c("IGDSBox.react"),{marginTop:4,position:"relative",children:l.jsx(c("IGDSText.react").BodyEmphasized,{color:"webAlwaysWhite",children:i})}),l.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:l.jsx(c("IGDSText.react").Body,{color:"webAlwaysWhite",children:b})})]})]})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.onClick,e=a.reelId,f=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,e)}),g=d("PolarisReactRedux").useSelector(function(a){var b=f==null?void 0:f.itemIds;if(b!=null&&b.length>0&&f!=null){b=(b=d("polarisStorySelectors").getInitialReelIndex(a,f.id))!=null?b:0;b=c("nullthrows")(f==null?void 0:f.itemIds)[b];if(b)return d("polarisPostSelectors").getPostById(a,b)}return null});a=d("polarisAdsSelectors").useStoryAdInfo(g==null?void 0:g.id,function(a){return a});var h=d("polarisAdsSelectors").useStoryAdPosition(e,function(a){return a}),k=g!=null&&d("polarisGetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(g)!=null,m=d("polarisUserSelectors").useUser(f==null?void 0:f.userId),n=c("usePolarisSelector")(function(a){return(a=a.ads.storyAdInjectionData)==null?void 0:a.seenStoryAdIds}),p=d("PolarisReactRedux").useSelector(function(a){var b;b=g==null?void 0:(b=g.owner)==null?void 0:b.id;return b!=null?d("polarisUserSelectors").getUserById(a,b):null});m=d("PolarisGroupProfileUtils").getIsUserGroupProfile(m)?m:p;p=c("usePolarisStoryPreviewImpressionLogger")(f,g);a=c("usePolarisSponsoredElTracker")({mediaType:0,position:(h=h)!=null?h:-2,postId:e,trackingToken:(h=a==null?void 0:a.tracking_token)!=null?h:""});h=(f==null?void 0:f.isSponsored)===!0;p=c("useMergeRefs")(d("PolarisAdsGatingHelpers").hasPreviewImpressionLogging()?p:null,h?a:null);if(f!=null){h=f.isSponsored===!0;n=h?(a=n==null?void 0:n.includes(f.id))!=null?a:!1:d("polarisStorySelectors").isReelSeen(f);a=f.type==="GraphHighlightReel";return l.jsx("div",{className:"_ac0i","data-testid":void 0,ref:p,children:g==null||m==null?l.jsx(c("IGCoreImage"),{alt:i._("__JHASH__65y6vsno5QG__JHASH__"),src:{light:j("163057")}}):l.jsxs(c("PolarisIGCorePressable"),{className:"_ac0j",keyPress:["Enter"],onPress:function(){return b(e)},children:[n?l.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSeenOverlay,{}):null,k?l.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSensitivityOverlay,{}):null,g==null?null:l.jsx(c("PolarisResponsiveImage.react"),{decoding:"sync",src:g.src,srcSet:g.displayResources,style:{height:"100%",objectFit:"cover",width:"100%"}}),l.jsx(o,{isSponsored:h,pictureUrl:a?f.thumbnailUrl:m.profilePictureUrl,post:g,postedAt:c("nullthrows")(g.postedAt),reelIsSeen:n,title:a?f.title:m.username,user:c("nullthrows")(m)})]})})}return l.jsx(l.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesViewerOrPreview.react",["PolarisDesktopStoriesV2ReelPreview.react","PolarisReactRedux","PolarisSponsoredStory.react","PolarisStoryActions","PolarisStoryViewer.react","nullthrows","polarisStorySelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e,f=a.reelId,g=a.viewerHeight;a=a.viewerWidth;var h=(e=d("PolarisReactRedux")).useDispatch(),j=e.useSelector(function(a){return a.stories.currentReelId}),k=e.useSelector(d("polarisStorySelectors").getCurrentPostId);e=e.useSelector(function(a){return a.stories.currentReelItemIndex});b=(b=d("PolarisReactRedux").useSelector(function(a){return d("polarisStorySelectors").getReel(a,(a=f)!=null?a:"")}))==null?void 0:b.isSponsored;var l=f==null;if(l)return null;l=j===f;if(l){if(f==null||k==null)return null;return b===!0?i.jsx(c("PolarisSponsoredStory.react"),{postId:k,reelId:f,reelItemIndex:e,viewerHeight:g,viewerWidth:a},f):i.jsx(c("PolarisStoryViewer.react"),{postId:k,reelId:f,reelItemIndex:e,viewerHeight:g,viewerWidth:a})}return i.jsx(c("PolarisDesktopStoriesV2ReelPreview.react"),{onClick:function(){return h(d("PolarisStoryActions").navigateToClickedGalleryReel(c("nullthrows")(f)))},reelId:c("nullthrows")(f)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelsGallery.react",["cx","IGDSBox.react","Locale","PolarisDesktopStoriesViewerOrPreview.react","PolarisIGAnimate","nullthrows","polarisPostSelectors","polarisStorySelectors","react","react-spring-wwwig","stylex","usePolarisDesktopStoriesGalleryIds","usePolarisDesktopStoriesGallerySize","usePolarisDesktopStoriesGallerySprings","usePolarisSelector","usePolarisStorySetup"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={animated:{position:"x10l6tqk",start:"x17qophe",left:null,right:null,$$css:!0},transformOriginLeft:{transformOrigin:"x19w6rv",$$css:!0},transformOriginRight:{transformOrigin:"xee5nap",$$css:!0}};function a(){var a,b=d("usePolarisDesktopStoriesGalleryIds").useDesktopStoriesGalleryIds(),e=c("usePolarisDesktopStoriesGallerySize")(),f=e.aspectRatio,g=e.maxGalleryHeight;e=e.maxGalleryWidth;f=d("usePolarisDesktopStoriesGallerySprings").useDesktopStoriesGallerySprings(b,f,g,e,function(){});var h=f[0],j=f[1];f=f[2];var m=(a=c("usePolarisSelector"))(function(a){return a.stories.currentReelId}),n=a(d("polarisStorySelectors").getCurrentPostId),o=c("nullthrows")(a(function(a){return d("polarisStorySelectors").getReel(a,(a=m)!=null?a:"")}));a=a(function(a){return d("polarisPostSelectors").getPostById(a,(a=n)!=null?a:"")});c("usePolarisStorySetup")(o,a);return k.jsx("div",{className:"_ac0n",style:{maxHeight:g,maxWidth:e},children:k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:"100%",position:"relative",children:f.map(function(a,e){var f=a.scale;a=a.x;return k.jsx(d("PolarisIGAnimate").Animated.div,{className:(i||(i=c("stylex")))(l.animated,c("Locale").isRTL()?l.transformOriginRight:l.transformOriginLeft),style:{height:h,transform:d("react-spring-wwwig").interpolate([a,f],function(a,b){return"translate("+a+"px) scale("+b+")"}),width:j},children:k.jsx(c("PolarisDesktopStoriesViewerOrPreview.react"),{reelId:b[e],viewerHeight:h,viewerWidth:j})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesPage.react",["fbt","IGDSDialogBackwardsCompatibilityWrapper.react","IGDSSpinner.react","PolarisAsyncEntityQRModal","PolarisDesktopStoriesV2ReelStandaloneViewer.react","PolarisDesktopStoriesV2ReelsGallery.react","PolarisFullscreenShellWithLogo.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryVideoContext.react","polarisStorySelectors","react","usePolarisReelNotAvailable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState,m="StoriesPage",n=h._("__JHASH__SkrEOF7TPUU__JHASH__");function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=l(g);var h=g[0],i=g[1];g=d("PolarisReactRedux").useSelector(function(a){return a.stories.isLoading});g=g===!0||e===!0;e=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});e=g!==!0&&e.length>1;var o=g!==!0&&e!==!0,p=d("PolarisReactRedux").useDispatch(),q=k(function(a){a===void 0&&(a="tap_exit");return p(d("PolarisStoryActions").closeReels(a))},[p]),r=d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getCurrentReel),s=c("usePolarisReelNotAvailable")(g,r);return s?null:j.jsxs(c("PolarisFullscreenShellWithLogo.react"),{onClose:function(){q("tap_exit")},children:[j.jsx(c("PolarisPageMetadata.react"),{id:m,title:n}),g!==!0?j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisStoriesProvider.react").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:j.jsxs(d("PolarisStoryVideoContext.react").StoryVideoContextProvider,{children:[e?j.jsx(c("PolarisDesktopStoriesV2ReelsGallery.react"),{}):null,o?j.jsx(c("PolarisDesktopStoriesV2ReelStandaloneViewer.react"),{}):null]})}),h&&j.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:j.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(s=b==null?void 0:b.toString())!=null?s:r==null?void 0:(g=r.itemIds)==null?void 0:g[0],onClose:function(){return i(!1)},source:"DIRECT_NAVIGATION"})})]}):j.jsx(c("IGDSSpinner.react"),{color:"light",position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDesktopStoriesV2ReelViewer.react",["cx","fbt","Locale","PolarisDesktopSponsoredStoriesFooter.react","PolarisDesktopStoriesFooter.react","PolarisDesktopStoriesHeaderV2.react","PolarisDesktopStoryEventZone.react","PolarisReactRedux","PolarisSponsoredStoryMedia.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryMedia.react","PolarisStoryMediaPrefetcher.react","PolarisTrackingNodeProvider.react","nullthrows","polarisStorySelectors","polarisUserSelectors","react","usePolarisUpdateStorySeen"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useState;function a(a){var b,e=a.innerRef,f=a.post,g=a.reel;a=a.reelItemIndex;var h=c("nullthrows")(d("PolarisReactRedux").useSelector(d("polarisStorySelectors").getTrayEntrypoint)),j=d("PolarisReactRedux").useSelector(function(a){return a.stories.currentTrayOrder});b=d("polarisUserSelectors").useUser((b=f.owner)==null?void 0:b.id);var n=d("polarisUserSelectors").useUser(g.userId),o=d("PolarisReactRedux").useSelector(function(a){return g.itemIds==null?[]:g.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})}),p=j[0];p=g.id===p&&a===0;j=a===o.length-1&&j[j.length-1]===g.id;var q=h==="story_ad_activity",r=d("PolarisReactRedux").useDispatch(),s=m(0),t=s[0],u=s[1];s=d("polarisStorySelectors").isReelItemExpired(f.expiringAt,g);var v=d("PolarisStoriesProvider.react").useStoriesContext(),w=v.isInitialLoad,x=v.needsTapToStart,y=v.postIDThatShouldShowSensitiveContentOverlay,z=v.updateStoriesContext;v=l(function(a){a===void 0&&(a="tap_exit"),r(d("PolarisStoryActions").closeReels(a))},[r]);var A=l(function(a){a===void 0&&(a="tap_forward"),u(0),r(d("PolarisStoryActions").nextReelItem(a))},[r]),B=l(function(a){a===void 0&&(a="swipe_forward"),u(0),r(d("PolarisStoryActions").nextReel(a))},[r]),C=c("usePolarisUpdateStorySeen")(),D=l(function(){u(0),r(d("PolarisStoryActions").prevReelItem("tap_back"))},[r]),E=l(function(){u(0),r(d("PolarisStoryActions").prevReel("swipe_back"))},[r]),F=l(function(){z({isInitialLoad:!1,isPaused:!1})},[z]),G=f.isSponsored===!0&&h!=="story_ad_activity"?c("PolarisSponsoredStoryMedia.react"):c("PolarisStoryMedia.react"),H=f.isSponsored===!0?c("PolarisDesktopSponsoredStoriesFooter.react"):c("PolarisDesktopStoriesFooter.react"),I=c("Locale").isRTL(),J=k.jsx("div",{className:(I?"_9zm0":"")+(I?"":" _9zm2")});I=k.jsx("div",{className:(I?"":"_9zm0")+(I?" _9zm2":"")});return k.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:321,children:k.jsx("section",{className:"_ac0a","data-testid":void 0,ref:x?null:e,children:k.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:15,children:k.jsxs("div",{className:"_ac0b",children:[!p&&!x&&k.jsx("button",{"aria-label":i._("__JHASH__wLBVljvWo_D__JHASH__"),className:"_ac0c",onClick:D,children:I}),k.jsx(G,{autoPlay:!0,currentReelItemIndex:a,eventZone:c("PolarisDesktopStoryEventZone.react"),isExpired:s,isFirstStory:p,isInitialLoad:w,onClose:v,onNext:A,onNextReel:B,onPause:function(){},onPlay:F,onPostSeen:C,onPrev:D,onPrevReel:E,onUpdatePlayPercentage:u,onUpdatePreplayPercentage:u,post:f,preload:"auto",reelId:g.id,trayEntrypoint:h},f.id),k.jsx(c("PolarisStoryMediaPrefetcher.react"),{prefetchContext:"stories"}),k.jsx(c("PolarisDesktopStoriesHeaderV2.react"),{currentReelItemIndex:a,itemCount:o.length,onModalOpen:function(){return z({isModalActive:!0})},playPercentage:t,post:f,postAuthor:c("nullthrows")(b),reel:g,reelOwner:c("nullthrows")(n),trayEntrypoint:h}),!x&&(!q||!j)&&k.jsx("button",{"aria-label":i._("__JHASH__EIdmgfpCblf__JHASH__"),className:"_ac0d",onClick:function(){return A("tap_forward")},children:J}),y==null&&!x&&!s&&k.jsx(H,{post:f,reel:g})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/KRXTwBoPvVj/
 */
__d("stackblur-1.0.0",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],b=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function c(c,e,f,g){if(isNaN(g)||g<1)return;g|=0;var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=g+g+1,E=e-1,F=f-1,G=g+1,H=G*(G+1)/2,I=new d(),J=I;for(j=1;j<D;j++){J=J.next=new d();if(j==G)var K=J}J.next=I;var L,M;l=D=0;var N=a[g],O=b[g];for(i=0;i<f;i++){u=v=w=x=m=n=o=p=0;q=G*(y=c[D]);r=G*(z=c[D+1]);s=G*(A=c[D+2]);t=G*(B=c[D+3]);m+=H*y;n+=H*z;o+=H*A;p+=H*B;J=I;for(j=0;j<G;j++)J.r=y,J.g=z,J.b=A,J.a=B,J=J.next;for(j=1;j<G;j++)k=D+((E<j?E:j)<<2),m+=(J.r=y=c[k])*(C=G-j),n+=(J.g=z=c[k+1])*C,o+=(J.b=A=c[k+2])*C,p+=(J.a=B=c[k+3])*C,u+=y,v+=z,w+=A,x+=B,J=J.next;L=I;M=K;for(h=0;h<e;h++)c[D+3]=B=p*N>>O,B!=0?(B=255/B,c[D]=(m*N>>O)*B,c[D+1]=(n*N>>O)*B,c[D+2]=(o*N>>O)*B):c[D]=c[D+1]=c[D+2]=0,m-=q,n-=r,o-=s,p-=t,q-=L.r,r-=L.g,s-=L.b,t-=L.a,k=l+((k=h+g+1)<E?k:E)<<2,u+=L.r=c[k],v+=L.g=c[k+1],w+=L.b=c[k+2],x+=L.a=c[k+3],m+=u,n+=v,o+=w,p+=x,L=L.next,q+=y=M.r,r+=z=M.g,s+=A=M.b,t+=B=M.a,u-=y,v-=z,w-=A,x-=B,M=M.next,D+=4;l+=e}for(h=0;h<e;h++){v=w=x=u=n=o=p=m=0;D=h<<2;q=G*(y=c[D]);r=G*(z=c[D+1]);s=G*(A=c[D+2]);t=G*(B=c[D+3]);m+=H*y;n+=H*z;o+=H*A;p+=H*B;J=I;for(j=0;j<G;j++)J.r=y,J.g=z,J.b=A,J.a=B,J=J.next;E=e;for(j=1;j<=g;j++)D=E+h<<2,m+=(J.r=y=c[D])*(C=G-j),n+=(J.g=z=c[D+1])*C,o+=(J.b=A=c[D+2])*C,p+=(J.a=B=c[D+3])*C,u+=y,v+=z,w+=A,x+=B,J=J.next,j<F&&(E+=e);D=h;L=I;M=K;for(i=0;i<f;i++)k=D<<2,c[k+3]=B=p*N>>O,B>0?(B=255/B,c[k]=(m*N>>O)*B,c[k+1]=(n*N>>O)*B,c[k+2]=(o*N>>O)*B):c[k]=c[k+1]=c[k+2]=0,m-=q,n-=r,o-=s,p-=t,q-=L.r,r-=L.g,s-=L.b,t-=L.a,k=h+((k=i+G)<F?k:F)*e<<2,m+=u+=L.r=c[k],n+=v+=L.g=c[k+1],o+=w+=L.b=c[k+2],p+=x+=L.a=c[k+3],L=L.next,q+=y=M.r,r+=z=M.g,s+=A=M.b,t+=B=M.a,u-=y,v-=z,w-=A,x-=B,M=M.next,D+=e}}function d(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}g.exports=c}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("stackblur",["stackblur-1.0.0"],(function(a,b,c,d,e,f){e.exports=b("stackblur-1.0.0")()}),null);